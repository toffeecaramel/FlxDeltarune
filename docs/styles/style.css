@font-face {
  font-family: 'FlxDeltaruneLocal';
  src: url('../determination.otf') format('opentype');
  font-weight: normal;
  font-style: normal;
  font-display: swap;
}

:root{
  --bg:#000;          /* abyss */
  --fg:#fff;          /* text */
  --dim:#cfcfcf;      /* secondary text */
  --accent:#ff3344;   /* SOUL red */
  --info:#4a90e2;     /* info blue */
  --accent-2:#ffffff; /* icy cyan */
  --border:#fff;
  --link:#ff2525;
  --muted:#777;
  --code-bg:#0b0b0b;
  --card-bg:#050505;
  --shadow:0 0 0 2px var(--fg),0 0 0 4px var(--bg),0 0 20px rgba(255,255,255,.06);
}
html,body{height:100%}
*{box-sizing:border-box}
body{
  margin:0; background:var(--bg); color:var(--fg);
  /* use local font first, fall back to monospace */
  font-family: 'FlxDeltaruneLocal', "Courier New", Courier, monospace;
  line-height:1.45; letter-spacing: .4px;
  image-rendering: pixelated;
}
a{color:var(--link); text-decoration:none}
a:hover{text-decoration:underline}
code,pre{font-family: "Courier New", Courier, monospace}

/* Layout */
.app{display:grid; grid-template-columns: 280px 1fr; min-height:100%}
.sidebar{
  position:sticky; top:0; align-self:start; height:100vh; overflow:auto;
  padding:18px 16px; border-right:2px solid var(--border); background:linear-gradient(180deg,var(--bg),#030303);
}
.sidebar::-webkit-scrollbar {
  width: 6px;
}
.sidebar::-webkit-scrollbar-track {
  background: var(--bg);
  border-left: 2px solid var(--border);
}
.sidebar::-webkit-scrollbar-thumb {
  background: var(--accent);
  border: 1px solid var(--fg);
  image-rendering: pixelated;
}
.sidebar {
  scrollbar-width: thin;
  scrollbar-color: var(--accent) var(--bg);
}
.brand{display:flex; align-items:center; gap:12px; margin-bottom:16px}
.logo{
  width:40px; height:40px; border:2px solid var(--fg); display:grid; place-items:center;
  box-shadow: var(--shadow); background:var(--card-bg); overflow:hidden;
}
/* small image inside logo */
.logo img{display:block; width:28px; height:28px; object-fit:contain; image-rendering:pixelated}
.title{font-size:20px; font-weight:700; letter-spacing:1px}
.subtitle{font-size:12px; color:var(--dim); margin-top:-6px}

.search{margin:14px 0 16px; position:relative}
.search input{
  width:100%; padding:10px 36px 10px 10px; background:var(--card-bg); color:var(--fg);
  border:2px solid var(--border); outline:none;
}
.search .k{position:absolute; right:8px; top:7px; font-size:11px; padding:2px 6px; border:1px solid var(--border); color:var(--dim)}

nav .section{margin:8px 0}
nav .group{font-size:11px; text-transform:uppercase; color:var(--dim); letter-spacing:1px; margin:14px 0 8px}
nav a{display:block; padding:8px 10px; border:2px solid transparent;}
nav a.active{border-color:var(--fg); background:#0a0a0a}
nav a .dot{display:inline-block; width:6px; height:6px; background:var(--accent-2); margin-right:8px}

.content{padding:28px; max-width: 1100px}
.header{
  border-bottom:2px solid var(--border); padding-bottom:14px; margin-bottom:20px;
  display:flex; align-items:center; gap:14px; flex-wrap:wrap
}
.header .crumbs{color:var(--dim)}

.callout{border:2px solid var(--fg); padding:16px; background:var(--card-bg); box-shadow: var(--shadow)}
.info{border:2px solid var(--info); padding:16px; background:#0a0a1a; box-shadow: var(--shadow)}
.warning{border:2px solid var(--accent); padding:16px; background:var(--card-bg); box-shadow: var(--shadow)}
.grid{display:grid; gap:14px}
.grid.cols-2{grid-template-columns: repeat(2, minmax(0,1fr))}
.grid.cols-3{grid-template-columns: repeat(3, minmax(0,1fr))}
@media (max-width: 920px){
  .app{grid-template-columns:1fr}
  .sidebar{height:auto; position:relative; border-right:none; border-bottom:2px solid var(--border)}
  .grid.cols-2,.grid.cols-3{grid-template-columns:1fr}
}

h1,h2,h3{margin: 14px 0 8px}
h1{font-size:28px}
h2{font-size:20px}
h3{font-size:16px}
p{margin: 8px 0}
ul{padding-left: 18px}

.kbd{display:inline-block; padding:2px 6px; border:2px solid var(--border); font-size:12px; background:#0a0a0a; color:var(--dim)}

/* Cards */
.card{border:2px solid var(--fg); padding:16px; background:var(--card-bg); box-shadow: var(--shadow)}
.card h3{margin-top:0}

/* Pixel divider */
.divider{height:8px; background: repeating-linear-gradient(90deg, var(--fg) 0 8px, transparent 8px 16px); opacity:.2; margin:20px 0}

/* Code */
pre{margin:12px 0; padding:12px; border:2px solid var(--fg); background:var(--code-bg); position:relative; overflow:auto}
pre .copy{position:absolute; top:6px; right:6px; font-size:12px; border:2px solid var(--border); background:#0a0a0a; color:var(--dim); padding:4px 8px; cursor:pointer}

/* Footer */
footer{border-top:2px solid var(--border); margin-top:24px; padding:14px 0; color:var(--dim)}

/* Mini TOC */
.toc{border:2px solid var(--fg); padding:12px; background:#080808}
.toc a{display:block; padding:4px 4px}

/* Collapsible */
details{border:2px solid var(--fg); padding:10px 12px; background:#070707}
details+details{margin-top:10px}

/* Fancy focus */
:focus-visible{outline:2px dashed var(--accent); outline-offset:2px}

/* Top banner stars */
.stars{display:flex; gap:8px; align-items:center; color:var(--accent-2); font-size:12px}
.heart{display:inline-block; width:10px; height:10px; background:var(--accent); transform: rotate(45deg); margin-right:8px}

/* Badges */
.badge{display:inline-block; border:2px solid var(--fg); padding:2px 8px; font-size:12px; background:#0a0a0a}

/* Hidden by route */
section[data-route]{display:none}
section[data-route].active{display:block}